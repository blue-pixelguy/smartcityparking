{
  "info": {
    "name": "P2P Parking API",
    "description": "Complete API collection for P2P Parking System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:5000/api"
    },
    {
      "key": "token",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Signup - Driver",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{base_url}}/auth/signup",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Driver\",\n  \"email\": \"driver@test.com\",\n  \"phone\": \"9876543210\",\n  \"password\": \"password123\",\n  \"role\": \"driver\"\n}"
            }
          }
        },
        {
          "name": "Signup - Host",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{base_url}}/auth/signup",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Host\",\n  \"email\": \"host@test.com\",\n  \"phone\": \"9876543211\",\n  \"password\": \"password123\",\n  \"role\": \"host\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{"key": "Content-Type", "value": "application/json"}],
            "url": "{{base_url}}/auth/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"driver@test.com\",\n  \"password\": \"password123\"\n}"
            }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/auth/profile"
          }
        }
      ]
    },
    {
      "name": "Parking",
      "item": [
        {
          "name": "Create Parking Listing",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/parking/list",
            "body": {
              "mode": "formdata",
              "formdata": [
                {"key": "title", "value": "Test Parking Space"},
                {"key": "description", "value": "A great parking space in Trichy"},
                {"key": "address", "value": "Thillai Nagar, Trichy"},
                {"key": "latitude", "value": "10.8055"},
                {"key": "longitude", "value": "78.6856"},
                {"key": "vehicle_type", "value": "4-wheeler"},
                {"key": "price_per_hour", "value": "30"},
                {"key": "total_hours", "value": "12"},
                {"key": "features", "value": "Covered,CCTV,24/7 Access"}
              ]
            }
          }
        },
        {
          "name": "Search Parking",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/parking/search",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"latitude\": 10.8055,\n  \"longitude\": 78.6856,\n  \"radius\": 5000,\n  \"vehicle_type\": \"4-wheeler\"\n}"
            }
          }
        },
        {
          "name": "Get Parking Details",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/parking/<parking_id>"
          }
        },
        {
          "name": "My Listings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/parking/my-listings"
          }
        }
      ]
    },
    {
      "name": "Booking",
      "item": [
        {
          "name": "Create Booking",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/booking/create",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"parking_id\": \"<parking_id>\",\n  \"start_time\": \"2026-02-10T10:00:00\",\n  \"hours\": 8,\n  \"payment_method\": \"wallet\"\n}"
            }
          }
        },
        {
          "name": "My Bookings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/booking/my-bookings"
          }
        },
        {
          "name": "Host Bookings",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/booking/host/bookings"
          }
        },
        {
          "name": "Confirm Booking",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/booking/confirm/<booking_id>"
          }
        }
      ]
    },
    {
      "name": "Wallet",
      "item": [
        {
          "name": "Get Balance",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/wallet/balance"
          }
        },
        {
          "name": "Get Transactions",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/wallet/transactions"
          }
        },
        {
          "name": "Add Money - Razorpay Order",
          "request": {
            "method": "POST",
            "header": [
              {"key": "Content-Type", "value": "application/json"},
              {"key": "Authorization", "value": "Bearer {{token}}"}
            ],
            "url": "{{base_url}}/wallet/add-money/razorpay/create-order",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 500\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/admin/dashboard"
          }
        },
        {
          "name": "Pending Parking Approvals",
          "request": {
            "method": "GET",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/admin/parking/pending"
          }
        },
        {
          "name": "Approve Parking",
          "request": {
            "method": "POST",
            "header": [{"key": "Authorization", "value": "Bearer {{token}}"}],
            "url": "{{base_url}}/admin/parking/<parking_id>/approve"
          }
        }
      ]
    }
  ]
}
